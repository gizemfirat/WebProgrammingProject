@model List<Entities.ViewModels.ProcessDetailViewModel>

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet" />
  <title>Document</title>
</head>

<body>
  <div class="section-calendar">
    <div id="calendar"></div>
  </div>


  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var calendarEl = document.getElementById('calendar');

      var events = @Html.Raw(Json.Serialize(Model.Select(x => new
      {
        id = x.AvaliableTimeId,
        title = @x.ProcessName + " " + @x.WorkerName,
        start = x.AvaliableTime.ToString("yyyy-MM-ddTHH:mm:ss"),
        end = x.EndTime.ToString("yyyy-MM-ddTHH:mm:ss"),
        description = @x.Price + "TL"
      })));

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        locale: 'tr',
        events: events,
        eventClick: function (info) {
          alert(info.event.extendedProps.description);
        }
      });
      calendar.render();
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js"></script>
</body>

</html>